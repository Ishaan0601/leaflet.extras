/*! For license information please see lfx-choropleth-prod.js.LICENSE.txt */
(()=>{var e={487:function(e,t,n){var r;e=n.nmd(e),function(){var n,a,o,f,u,l,c,i,s,d,p,h,b,g,m,v,y,_,w,x,k,N,O,M,S,j,A,L,E,P,G,I,B,C,q,R,z,T,$,F,Y,U,X,J,V,D,K,Z,H,Q,W,ee,te,ne,re,ae,oe,fe,ue,le,ce,ie,se,de,pe,he,be,ge,me,ve,ye,_e,we,xe,ke,Ne,Oe,Me,Se,je,Ae=[].slice;Ne=function(){var e,t,n,r,a;for(e={},r=0,t=(a="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=a[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),K=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Oe=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},k=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},f=Math.PI,ye=Math.round,O=Math.cos,L=Math.floor,re=Math.pow,Z=Math.log,we=Math.sin,xe=Math.sqrt,g=Math.atan2,W=Math.max,b=Math.abs,c=2*f,u=f/3,a=f/180,l=180/f,x=function(){return arguments[0]instanceof n?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,arguments,(function(){}))},x.default=x,h=[],null!==e&&null!=e.exports&&(e.exports=x),void 0===(r=function(){return x}.apply(t,[]))||(e.exports=r),x.version="1.4.1",p={},s=[],d=!1,n=function(){function e(){var e,t,n,r,a,o,f,u,l;for(o=this,t=[],u=0,r=arguments.length;u<r;u++)null!=(e=arguments[u])&&t.push(e);if(t.length>1&&(f=t[t.length-1]),null!=p[f])o._rgb=k(p[f](Oe(t.slice(0,-1))));else{for(d||(s=s.sort((function(e,t){return t.p-e.p})),d=!0),l=0,a=s.length;l<a&&!(f=(n=s[l]).test.apply(n,t));l++);f&&(o._rgb=k(p[f].apply(p,t)))}null==o._rgb&&console.warn("unknown format: "+t),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),x._input=p,x.brewer=_={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],_)t.push(_[e.toLowerCase()]=_[e])}(),x.colors=Me={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},U=function(){var e,t,n,r,a,f,u;return r=(t=Oe(arguments))[0],e=t[1],n=t[2],f=(r+16)/116,a=isNaN(e)?f:f+e/500,u=isNaN(n)?f:f-n/200,f=o.Yn*X(f),a=o.Xn*X(a),u=o.Zn*X(u),[je(3.2404542*a-1.5371385*f-.4985314*u),je(-.969266*a+1.8760108*f+.041556*u),n=je(.0556434*a-.2040259*f+1.0572252*u),t.length>3?t[3]:1]},je=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},X=function(e){return e>o.t1?e*e*e:o.t2*(e-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},se=function(){var e,t,n,r,a,o,f;return n=(r=Oe(arguments))[0],t=r[1],e=r[2],o=(a=ge(n,t,e))[0],[116*(f=a[1])-16,500*(o-f),200*(f-a[2])]},me=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Se=function(e){return e>o.t3?re(e,1/3):e/o.t2+o.t0},ge=function(){var e,t,n,r;return n=(r=Oe(arguments))[0],t=r[1],e=r[2],n=me(n),t=me(t),e=me(e),[Se((.4124564*n+.3575761*t+.1804375*e)/o.Xn),Se((.2126729*n+.7151522*t+.072175*e)/o.Yn),Se((.0193339*n+.119192*t+.9503041*e)/o.Zn)]},x.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["lab"]),(function(){}))},p.lab=U,n.prototype.lab=function(){return se(this._rgb)},m=function(e){var t,n,r,a,o,f,u,l,c,i,s;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)a=e[n],r.push(x(a));return r}()).length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)a=e[n],r.push(a.lab());return r}(),o=c[0],f=c[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(o[t]+e*(f[t]-o[t]));return r}(),x.lab.apply(x,n)}):3===e.length?(i=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)a=e[n],r.push(a.lab());return r}(),o=i[0],f=i[1],u=i[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*o[t]+2*(1-e)*e*f[t]+e*e*u[t]);return r}(),x.lab.apply(x,n)}):4===e.length?(s=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)a=e[n],r.push(a.lab());return r}(),o=s[0],f=s[1],u=s[2],l=s[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*f[t]+3*(1-e)*e*e*u[t]+e*e*e*l[t]);return r}(),x.lab.apply(x,n)}):5===e.length&&(n=m(e.slice(0,3)),r=m(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},x.bezier=function(e){var t;return(t=m(e)).scale=function(){return x.scale(t)},t},x.cubehelix=function(e,t,n,r,a){var o,f,u;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==a&&(a=[0,1]),o=0,"array"===Ne(a)?f=a[1]-a[0]:(f=0,a=[a,a]),(u=function(u){var l,i,s,d,p;return l=c*((e+120)/360+t*u),d=re(a[0]+f*u,r),i=(0!==o?n[0]+u*o:n)*d*(1-d)/2,s=O(l),p=we(l),x(k([255*(d+i*(-.14861*s+1.78277*p)),255*(d+i*(-.29227*s-.90649*p)),255*(d+i*(1.97294*s)),1]))}).start=function(t){return null==t?e:(e=t,u)},u.rotations=function(e){return null==e?t:(t=e,u)},u.gamma=function(e){return null==e?r:(r=e,u)},u.hue=function(e){return null==e?n:("array"===Ne(n=e)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,u)},u.lightness=function(e){return null==e?a:("array"===Ne(e)?(a=e,f=e[1]-e[0]):(a=[e,e],f=0),u)},u.scale=function(){return x.scale(u)},u.hue(n),u},x.random=function(){var e,t;for(e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(L(16*Math.random()));return new n(e)},h=[],q=function(e,t,n,r){var a,o,f,u;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Ne(e)&&(e=x(e)),"object"!==Ne(t)&&(t=x(t)),f=0,o=h.length;f<o;f++)if(r===(a=h[f])[0]){u=a[1](e,t,n,r);break}if(null==u)throw"color mode "+r+" is not supported";return u.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},x.interpolate=q,n.prototype.interpolate=function(e,t,n){return q(this,e,t,n)},x.mix=q,n.prototype.mix=n.prototype.interpolate,p.rgb=function(){var e,t,n,r;for(e in n=[],t=Oe(arguments))r=t[e],n.push(r);return n},x.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["rgb"]),(function(){}))},n.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},s.push({p:3,test:function(e){var t;return t=Oe(arguments),"array"===Ne(t)&&3===t.length||4===t.length&&"number"===Ne(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),p.lrgb=p.rgb,T=function(e,t,r,a){var o,f;return o=e._rgb,f=t._rgb,new n(xe(re(o[0],2)*(1-r)+re(f[0],2)*r),xe(re(o[1],2)*(1-r)+re(f[1],2)*r),xe(re(o[2],2)*(1-r)+re(f[2],2)*r),a)},i=function(e){var t,r,a,o,f;for(t=1/e.length,f=[0,0,0,0],a=0,r=e.length;a<r;a++)o=e[a]._rgb,f[0]+=re(o[0],2)*t,f[1]+=re(o[1],2)*t,f[2]+=re(o[2],2)*t,f[3]+=o[3]*t;return f[0]=xe(f[0]),f[1]=xe(f[1]),f[2]=xe(f[2]),f[3]>1&&(f[3]=1),new n(k(f))},h.push(["lrgb",T]),x.average=function(e,t){var n,r,a,o,u,l,c,s,d,p,h,b,m;if(null==t&&(t="rgb"),d=e.length,e=e.map((function(e){return x(e)})),c=e.splice(0,1)[0],"lrgb"===t)return i(e);for(s in o=[],u=0,l=0,b=c.get(t))b[s]=b[s]||0,o.push(isNaN(b[s])?0:1),"h"!==t.charAt(s)||isNaN(b[s])||(n=b[s]/180*f,u+=O(n),l+=we(n));for(r=c.alpha(),h=0,p=e.length;h<p;h++)for(s in m=(a=e[h]).get(t),r+=a.alpha(),b)isNaN(m[s])||(o[s]+=1,"h"===t.charAt(s)?(n=m[s]/180*f,u+=O(n),l+=we(n)):b[s]+=m[s]);for(s in b)if("h"===t.charAt(s)){for(n=g(l/o[s],u/o[s])/f*180;n<0;)n+=360;for(;n>=360;)n-=360;b[s]=n}else b[s]=b[s]/o[s];return x(b,t).alpha(r/d)},P=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,ye((255&n)/255*100)/100];if(null!=p.css&&(t=p.css(e)))return t;throw"unknown color: "+e},ue=function(e,t){var n,r,a,o,f,u;return null==t&&(t="auto"),f=e[0],a=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),f=Math.round(f),a=Math.round(a),r=Math.round(r),u=(u="000000"+(f<<16|a<<8|r).toString(16)).substr(u.length-6),o=(o="0"+ye(255*n).toString(16)).substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return u+o;case"argb":return o+u;default:return u}}()},p.hex=function(e){return P(e)},x.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["hex"]),(function(){}))},n.prototype.hex=function(e){return null==e&&(e="auto"),ue(this._rgb,e)},s.push({p:4,test:function(e){if(1===arguments.length&&"string"===Ne(e))return"hex"}}),B=function(){var e,t,n,r,a,o,f,u,l,c,i,s,d,p;if(a=(e=Oe(arguments))[0],i=e[1],f=e[2],0===i)l=r=t=255*f;else{for(n=[0,0,0],s=2*f-(d=f<.5?f*(1+i):f+i-f*i),(p=[0,0,0])[0]=(a/=360)+1/3,p[1]=a,p[2]=a-1/3,o=u=0;u<=2;o=++u)p[o]<0&&(p[o]+=1),p[o]>1&&(p[o]-=1),6*p[o]<1?n[o]=s+6*(d-s)*p[o]:2*p[o]<1?n[o]=d:3*p[o]<2?n[o]=s+(d-s)*(2/3-p[o])*6:n[o]=s;l=(c=[ye(255*n[0]),ye(255*n[1]),ye(255*n[2])])[0],r=c[1],t=c[2]}return e.length>3?[l,r,t,e[3]]:[l,r,t]},ce=function(e,t,n){var r,a,o,f,u;return void 0!==e&&e.length>=3&&(e=(f=e)[0],t=f[1],n=f[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),a=((W=Math.max(e,t,n))+o)/2,W===o?(u=0,r=Number.NaN):u=a<.5?(W-o)/(W+o):(W-o)/(2-W-o),e===W?r=(t-n)/(W-o):t===W?r=2+(n-e)/(W-o):n===W&&(r=4+(e-t)/(W-o)),(r*=60)<0&&(r+=360),[r,u,a]},x.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["hsl"]),(function(){}))},p.hsl=B,n.prototype.hsl=function(){return ce(this._rgb)},C=function(){var e,t,n,r,a,o,f,u,l,c,i,s,d,p,h,b,g,m;if(a=(e=Oe(arguments))[0],b=e[1],m=e[2],m*=255,0===b)l=r=t=m;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),f=m*(1-b),u=m*(1-b*(n=(a/=60)-(o=L(a)))),g=m*(1-b*(1-n)),o){case 0:l=(c=[m,g,f])[0],r=c[1],t=c[2];break;case 1:l=(i=[u,m,f])[0],r=i[1],t=i[2];break;case 2:l=(s=[f,m,g])[0],r=s[1],t=s[2];break;case 3:l=(d=[f,u,m])[0],r=d[1],t=d[2];break;case 4:l=(p=[g,f,m])[0],r=p[1],t=p[2];break;case 5:l=(h=[m,f,u])[0],r=h[1],t=h[2]}return[l,r,t,e.length>3?e[3]:1]},ie=function(){var e,t,n,r,a,o,f,u,l;return o=(f=Oe(arguments))[0],n=f[1],e=f[2],a=Math.min(o,n,e),t=(W=Math.max(o,n,e))-a,l=W/255,0===W?(r=Number.NaN,u=0):(u=t/W,o===W&&(r=(n-e)/t),n===W&&(r=2+(e-o)/t),e===W&&(r=4+(o-n)/t),(r*=60)<0&&(r+=360)),[r,u,l]},x.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["hsv"]),(function(){}))},p.hsv=C,n.prototype.hsv=function(){return ie(this._rgb)},te=function(e){return"number"===Ne(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},he=function(){var e;return((e=Oe(arguments))[0]<<16)+(e[1]<<8)+e[2]},x.num=function(e){return new n(e,"num")},n.prototype.num=function(e){return null==e&&(e="rgb"),he(this._rgb,e)},p.num=te,s.push({p:1,test:function(e){if(1===arguments.length&&"number"===Ne(e)&&e>=0&&e<=16777215)return"num"}}),E=function(){var e,t,n,r,a,o,f,u,l,c,i,s,d,p,h,b,g,m,v,y;if(u=(n=Oe(arguments))[0],a=n[1],t=n[2],f=f/100*255,e=255*(a/=100),0===a)s=f=r=t;else switch(360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360),i=(c=t*(1-a))+e*(1-(o=(u/=60)-(l=L(u)))),v=c+e*o,y=c+e,l){case 0:s=(d=[y,v,c])[0],f=d[1],r=d[2];break;case 1:s=(p=[i,y,c])[0],f=p[1],r=p[2];break;case 2:s=(h=[c,y,v])[0],f=h[1],r=h[2];break;case 3:s=(b=[c,i,y])[0],f=b[1],r=b[2];break;case 4:s=(g=[v,c,y])[0],f=g[1],r=g[2];break;case 5:s=(m=[y,c,i])[0],f=m[1],r=m[2]}return[s,f,r,n.length>3?n[3]:1]},fe=function(){var e,t,n,r,a,o,f,u,l;return u=(l=Oe(arguments))[0],a=l[1],t=l[2],f=Math.min(u,a,t),n=100*(r=(W=Math.max(u,a,t))-f)/255,e=f/(255-r)*100,0===r?o=Number.NaN:(u===W&&(o=(a-t)/r),a===W&&(o=2+(t-u)/r),t===W&&(o=4+(u-a)/r),(o*=60)<0&&(o+=360)),[o,n,e]},x.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["hcg"]),(function(){}))},p.hcg=E,n.prototype.hcg=function(){return fe(this._rgb)},M=function(e){var t,n,r,a,o,f,u,l;if(e=e.toLowerCase(),null!=x.colors&&x.colors[e])return P(x.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(u=o.slice(1,4),a=f=0;f<=2;a=++f)u[a]=+u[a];u[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(u=o.slice(1,5),a=l=0;l<=3;a=++l)u[a]=+u[a];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(u=o.slice(1,4),a=t=0;t<=2;a=++t)u[a]=ye(2.55*u[a]);u[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(u=o.slice(1,5),a=n=0;n<=2;a=++n)u[a]=ye(2.55*u[a]);u[3]=+u[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(u=B(r))[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(u=B(r))[3]=+o[4]);return u},oe=function(e){var t;return"rgb"==(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},ve=function(e){return ye(100*e)/100},I=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},p.css=function(e){return M(e)},x.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["css"]),(function(){}))},n.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?oe(this._rgb):"hsl"===e.slice(0,3)?I(this.hsl(),this.alpha()):void 0},p.named=function(e){return P(Me[e])},s.push({p:5,test:function(e){if(1===arguments.length&&null!=Me[e])return"named"}}),n.prototype.name=function(e){var t,n;for(n in arguments.length&&(Me[e]&&(this._rgb=P(Me[e])),this._rgb[3]=1),t=this.hex("rgb"),Me)if(t===Me[n])return n;return t},J=function(){var e,t,n,r;return n=(r=Oe(arguments))[0],e=r[1],t=r[2],[n,O(t*=a)*e,we(t)*e]},V=function(){var e,t,n,r,a,o,f,u,l;return f=(n=Oe(arguments))[0],a=n[1],o=n[2],e=(u=J(f,a,o))[0],t=u[1],r=u[2],[(l=U(e,t,r))[0],l[1],r=l[2],n.length>3?n[3]:1]},Y=function(){var e,t,n,r,a,o;return a=(o=Oe(arguments))[0],e=o[1],t=o[2],n=xe(e*e+t*t),r=(g(t,e)*l+360)%360,0===ye(1e4*n)&&(r=Number.NaN),[a,n,r]},de=function(){var e,t,n,r,a,o,f;return a=(o=Oe(arguments))[0],n=o[1],t=o[2],r=(f=se(a,n,t))[0],e=f[1],t=f[2],Y(r,e,t)},x.lch=function(){var e;return e=Oe(arguments),new n(e,"lch")},x.hcl=function(){var e;return e=Oe(arguments),new n(e,"hcl")},p.lch=V,p.hcl=function(){var e,t,n,r;return t=(r=Oe(arguments))[0],e=r[1],n=r[2],V([n,e,t])},n.prototype.lch=function(){return de(this._rgb)},n.prototype.hcl=function(){return de(this._rgb).reverse()},ae=function(e){var t,n,r,a,o,f;return null==e&&(e="rgb"),o=(f=Oe(arguments))[0],r=f[1],t=f[2],r/=255,t/=255,[(1-(o/=255)-(a=1-Math.max(o,Math.max(r,t))))*(n=a<1?1/(1-a):0),(1-r-a)*n,(1-t-a)*n,a]},N=function(){var e,t,n,r,a,o;return n=(t=Oe(arguments))[0],a=t[1],o=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),a>=1?0:255*(1-a)*(1-r),o>=1?0:255*(1-o)*(1-r),e]},p.cmyk=function(){return N(Oe(arguments))},x.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["cmyk"]),(function(){}))},n.prototype.cmyk=function(){return ae(this._rgb)},p.gl=function(){var e,t,n,r,a;for(r=function(){var e,n;for(t in n=[],e=Oe(arguments))a=e[t],n.push(a);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},x.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["gl"]),(function(){}))},n.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},pe=function(e,t,n){var r;return e=(r=Oe(arguments))[0],t=r[1],n=r[2],.2126*(e=H(e))+.7152*(t=H(t))+.0722*H(n)},H=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},F=function(e,t,r,a){var o,f;return o=e._rgb,f=t._rgb,new n(o[0]+r*(f[0]-o[0]),o[1]+r*(f[1]-o[1]),o[2]+r*(f[2]-o[2]),a)},h.push(["rgb",F]),n.prototype.luminance=function(e,t){var n,r,a,o;return null==t&&(t="rgb"),arguments.length?(a=this._rgb,0===e?a=[0,0,0,this._rgb[3]]:1===e?a=[255,255,255,this[3]]:(n=pe(this._rgb),r=20,o=function(n,a){var f,u;return f=(u=n.interpolate(a,.5,t)).luminance(),Math.abs(e-f)<1e-7||!r--?u:f>e?o(n,u):o(u,a)},a=n>e?o(x("black"),this).rgba():o(this,x("white")).rgba()),x(a).alpha(this.alpha())):pe(this._rgb)},ke=function(e){var t,n,r,a;return(a=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=a-2)+104.49216199393888*Z(n),t=a<20?0:.8274096064007395*(t=a-10)-254.76935184120902+115.67994401066147*Z(t)):(r=351.97690566805693+.114206453784165*(r=a-55)-40.25366309332127*Z(r),n=325.4494125711974+.07943456536662342*(n=a-50)-28.0852963507957*Z(n),t=255),[r,n,t]},be=function(){var e,t,n,r,a,o,f;for(r=(a=Oe(arguments))[0],a[1],e=a[2],n=1e3,t=4e4;t-n>.4;)(o=ke(f=.5*(t+n)))[2]/o[0]>=e/r?t=f:n=f;return ye(f)},x.temperature=x.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["temperature"]),(function(){}))},p.temperature=p.kelvin=p.K=ke,n.prototype.temperature=function(){return be(this._rgb)},n.prototype.kelvin=n.prototype.temperature,x.contrast=function(e,t){var r,a,o,f;return"string"!==(o=Ne(e))&&"number"!==o||(e=new n(e)),"string"!==(f=Ne(t))&&"number"!==f||(t=new n(t)),(r=e.luminance())>(a=t.luminance())?(r+.05)/(a+.05):(a+.05)/(r+.05)},x.distance=function(e,t,r){var a,o,f,u,l,c,i;for(o in null==r&&(r="lab"),"string"!==(l=Ne(e))&&"number"!==l||(e=new n(e)),"string"!==(c=Ne(t))&&"number"!==c||(t=new n(t)),f=e.get(r),u=t.get(r),i=0,f)i+=(a=(f[o]||0)-(u[o]||0))*a;return Math.sqrt(i)},x.deltaE=function(e,t,r,a){var o,u,l,c,i,s,d,p,h,m,v,y,_,w,x,k,N,M,S,j,A,L,E,P;for(null==r&&(r=1),null==a&&(a=1),"string"!==(x=Ne(e))&&"number"!==x||(e=new n(e)),"string"!==(k=Ne(t))&&"number"!==k||(t=new n(t)),o=(N=e.lab())[0],l=N[1],i=N[2],u=(M=t.lab())[0],c=M[1],s=M[2],d=xe(l*l+i*i),p=xe(c*c+s*s),j=o<16?.511:.040975*o/(1+.01765*o),S=.0638*d/(1+.0131*d)+.638,w=d<1e-6?0:180*g(i,l)/f;w<0;)w+=360;for(;w>=360;)w-=360;return A=w>=164&&w<=345?.56+b(.2*O(f*(w+168)/180)):.36+b(.4*O(f*(w+35)/180)),_=xe((h=d*d*d*d)/(h+1900)),xe((L=(o-u)/(r*j))*L+(E=(y=d-p)/(a*S))*E+((m=l-c)*m+(v=i-s)*v-y*y)/((P=S*(_*A+1-_))*P))},n.prototype.get=function(e){var t,n,r,a,o;return r=(a=e.split("."))[0],t=a[1],o=this[r](),t?(n=r.indexOf(t))>-1?o[n]:console.warn("unknown channel "+t+" in mode "+r):o},n.prototype.set=function(e,t){var n,r,a,o,f;if(a=(o=e.split("."))[0],n=o[1])if(f=this[a](),(r=a.indexOf(n))>-1)if("string"===Ne(t))switch(t.charAt(0)){case"+":case"-":f[r]+=+t;break;case"*":f[r]*=+t.substr(1);break;case"/":f[r]/=+t.substr(1);break;default:f[r]=+t}else f[r]=t;else console.warn("unknown channel "+n+" in mode "+a);else f=t;return x(f,a).alpha(this.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(e){return arguments.length?x.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},n.prototype.darken=function(e){var t;return null==e&&(e=1),(t=this.lab())[0]-=o.Kn*e,x.lab(t).alpha(this.alpha())},n.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(e){var t;return null==e&&(e=1),(t=this.lch())[1]+=e*o.Kn,t[1]<0&&(t[1]=0),x.lch(t).alpha(this.alpha())},n.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},n.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),x(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},S=function(e,t){return e>t?t:e},D=function(e,t){return e>t?e:t},_e=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},w=function(e,t){return 255*(1-(1-t/255)/(e/255))},j=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(v=function(e,t,n){if(!v[n])throw"unknown blend mode "+n;return v[n](e,t)}).normal=(y=function(e){return function(t,n){var r,a;return r=x(n).rgb(),a=x(t).rgb(),x(e(r,a),"rgb")}})((A=function(e){return function(t,n){var r,a,o;for(o=[],r=a=0;a<=3;r=++a)o[r]=e(t[r],n[r]);return o}})((function(e,t){return e}))),v.multiply=y(A(ee)),v.screen=y(A(_e)),v.overlay=y(A(ne)),v.darken=y(A(S)),v.lighten=y(A(D)),v.dodge=y(A(j)),v.burn=y(A(w)),x.blend=v,x.analyze=function(e){var t,n,r,a;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(a=e[n])||isNaN(a)||(r.values.push(a),r.sum+=a,a<r.min&&(r.min=a),a>r.max&&(r.max=a),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return x.limits(r,e,t)},r},x.scale=function(e,t){var n,r,a,o,f,u,l,c,i,s,d,p,h,b,g,m,v,y,_,w,k;return i="rgb",s=x("#ccc"),b=0,f=[0,1],h=[],p=[0,0],n=!1,a=[],d=!1,c=0,l=1,o=!1,r={},g=!0,u=1,w=function(e){var t,n,r,o,f,u;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Ne(e)&&null!=x.brewer&&(e=x.brewer[e]||x.brewer[e.toLowerCase()]||e),"array"===Ne(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,o=(e=e.slice(0)).length-1;0<=o?r<=o:r>=o;t=0<=o?++r:--r)n=e[t],"string"===Ne(n)&&(e[t]=x(n));for(h.length=0,t=u=0,f=e.length-1;0<=f?u<=f:u>=f;t=0<=f?++u:--u)h.push(t/(e.length-1))}return _(),a=e},v=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},k=function(e){return e},y=function(e,t){var o,f,d,b,m,y,_;if(null==t&&(t=!1),isNaN(e)||null===e)return s;if(_=t?e:n&&n.length>2?v(e)/(n.length-2):l!==c?(e-c)/(l-c):1,t||(_=k(_)),1!==u&&(_=re(_,u)),_=p[0]+_*(1-p[0]-p[1]),_=Math.min(1,Math.max(0,_)),d=Math.floor(1e4*_),g&&r[d])o=r[d];else{if("array"===Ne(a))for(f=b=0,y=h.length-1;0<=y?b<=y:b>=y;f=0<=y?++b:--b){if(_<=(m=h[f])){o=a[f];break}if(_>=m&&f===h.length-1){o=a[f];break}if(_>m&&_<h[f+1]){_=(_-m)/(h[f+1]-m),o=x.interpolate(a[f],a[f+1],_,i);break}}else"function"===Ne(a)&&(o=a(_));g&&(r[d]=o)}return o},_=function(){return r={}},w(e),(m=function(e){var t;return t=x(y(e)),d&&t[d]?t[d]():t}).classes=function(e){var t;return null!=e?("array"===Ne(e)?(n=e,f=[e[0],e[e.length-1]]):(t=x.analyze(f),n=0===e?[t.min,t.max]:x.limits(t,"e",e)),m):n},m.domain=function(e){var t,n,r,o,u,i,s;if(!arguments.length)return f;if(c=e[0],l=e[e.length-1],h=[],r=a.length,e.length===r&&c!==l)for(u=0,o=e.length;u<o;u++)n=e[u],h.push((n-c)/(l-c));else for(t=s=0,i=r-1;0<=i?s<=i:s>=i;t=0<=i?++s:--s)h.push(t/(r-1));return f=[c,l],m},m.mode=function(e){return arguments.length?(i=e,_(),m):i},m.range=function(e,t){return w(e),m},m.out=function(e){return d=e,m},m.spread=function(e){return arguments.length?(b=e,m):b},m.correctLightness=function(e){return null==e&&(e=!0),o=e,_(),k=o?function(e){var t,n,r,a,o,f,u,l;for(f=(t=y(0,!0).lab()[0])>(n=y(1,!0).lab()[0]),r=y(e,!0).lab()[0]-(a=t+(n-t)*e),u=0,l=1,o=20;Math.abs(r)>.01&&o-- >0;)f&&(r*=-1),r<0?(u=e,e+=.5*(l-e)):(l=e,e+=.5*(u-e)),r=y(e,!0).lab()[0]-a;return e}:function(e){return e},m},m.padding=function(e){return null!=e?("number"===Ne(e)&&(e=[e,e]),p=e,m):p},m.colors=function(t,r){var o,u,l,c,i,s,d,p;if(arguments.length<2&&(r="hex"),i=[],0===arguments.length)i=a.slice(0);else if(1===t)i=[m(.5)];else if(t>1)u=f[0],o=f[1]-u,i=function(){s=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)s.push(e);return s}.apply(this).map((function(e){return m(u+e/(t-1)*o)}));else{if(e=[],d=[],n&&n.length>2)for(l=p=1,c=n.length;1<=c?p<c:p>c;l=1<=c?++p:--p)d.push(.5*(n[l-1]+n[l]));else d=f;i=d.map((function(e){return m(e)}))}return x[r]&&(i=i.map((function(e){return e[r]()}))),i},m.cache=function(e){return null!=e?(g=e,m):g},m.gamma=function(e){return null!=e?(u=e,m):u},m.nodata=function(e){return null!=e?(s=x(e),m):s},m},null==x.scales&&(x.scales={}),x.scales.cool=function(){return x.scale([x.hsl(180,1,.9),x.hsl(250,.7,.4)])},x.scales.hot=function(){return x.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},x.analyze=function(e,t,n){var r,a,o,f,u,l;if(u={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(u.values.push(e),u.sum+=e,e<u.min&&(u.min=e),e>u.max&&(u.max=e),u.count+=1)},l=function(e,a){if(n(e,a))return null!=t&&"function"===Ne(t)?r(t(e)):null!=t&&"string"===Ne(t)||"number"===Ne(t)?r(e[t]):r(e)},"array"===Ne(e))for(f=0,o=e.length;f<o;f++)l(e[f]);else for(a in e)l(e[a],a);return u.domain=[u.min,u.max],u.limits=function(e,t){return x.limits(u,e,t)},u},x.limits=function(e,t,n){var r,a,o,f,u,l,c,i,s,d,p,h,g,m,v,y,_,w,k,N,O,M,S,j,A,E,P,G,I,B,C,q,R,z,T,$,F,Y,U,X,J,V,D,K,H,Q,ee,te,ne,ae,oe,fe,ue,le,ce;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Ne(e)&&(e=x.analyze(e)),A=e.min,W=e.max,e.sum,le=e.values.sort((function(e,t){return e-t})),1===n)return[A,W];if(S=[],"c"===t.substr(0,1)&&(S.push(A),S.push(W)),"e"===t.substr(0,1)){for(S.push(A),N=C=1,T=n-1;1<=T?C<=T:C>=T;N=1<=T?++C:--C)S.push(A+N/n*(W-A));S.push(W)}else if("l"===t.substr(0,1)){if(A<=0)throw"Logarithmic scales are only possible for values > 0";for(E=Math.LOG10E*Z(A),j=Math.LOG10E*Z(W),S.push(A),N=ce=1,$=n-1;1<=$?ce<=$:ce>=$;N=1<=$?++ce:--ce)S.push(re(10,E+N/n*(j-E)));S.push(W)}else if("q"===t.substr(0,1)){for(S.push(A),N=r=1,V=n-1;1<=V?r<=V:r>=V;N=1<=V?++r:--r)q=(le.length-1)*N/n,(R=L(q))===q?S.push(le[R]):(z=q-R,S.push(le[R]*(1-z)+le[R+1]*z));S.push(W)}else if("k"===t.substr(0,1)){for(G=le.length,m=new Array(G),w=new Array(n),ae=!0,I=0,y=null,(y=[]).push(A),N=a=1,D=n-1;1<=D?a<=D:a>=D;N=1<=D?++a:--a)y.push(A+N/n*(W-A));for(y.push(W);ae;){for(O=o=0,K=n-1;0<=K?o<=K:o>=K;O=0<=K?++o:--o)w[O]=0;for(N=f=0,H=G-1;0<=H?f<=H:f>=H;N=0<=H?++f:--f){for(ue=le[N],P=Number.MAX_VALUE,O=u=0,Q=n-1;0<=Q?u<=Q:u>=Q;O=0<=Q?++u:--u)(k=b(y[O]-ue))<P&&(P=k,v=O);w[v]++,m[N]=v}for(B=new Array(n),O=l=0,ee=n-1;0<=ee?l<=ee:l>=ee;O=0<=ee?++l:--l)B[O]=null;for(N=c=0,te=G-1;0<=te?c<=te:c>=te;N=0<=te?++c:--c)null===B[_=m[N]]?B[_]=le[N]:B[_]+=le[N];for(O=i=0,ne=n-1;0<=ne?i<=ne:i>=ne;O=0<=ne?++i:--i)B[O]*=1/w[O];for(ae=!1,O=s=0,F=n-1;0<=F?s<=F:s>=F;O=0<=F?++s:--s)if(B[O]!==y[N]){ae=!0;break}y=B,++I>200&&(ae=!1)}for(M={},O=d=0,Y=n-1;0<=Y?d<=Y:d>=Y;O=0<=Y?++d:--d)M[O]=[];for(N=p=0,U=G-1;0<=U?p<=U:p>=U;N=0<=U?++p:--p)M[_=m[N]].push(le[N]);for(oe=[],O=h=0,X=n-1;0<=X?h<=X:h>=X;O=0<=X?++h:--h)oe.push(M[O][0]),oe.push(M[O][M[O].length-1]);for(oe=oe.sort((function(e,t){return e-t})),S.push(oe[0]),N=g=1,J=oe.length-1;g<=J;N=g+=2)fe=oe[N],isNaN(fe)||-1!==S.indexOf(fe)||S.push(fe)}return S},G=function(e,t,n){var r,a,o,f;return e=(r=Oe(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?o=1-((a=(1-t)/3)+(f=(1+t*O(c*e)/O(u-c*e))/3)):e<2/3?a=1-((f=(1-t)/3)+(o=(1+t*O(c*(e-=1/3))/O(u-c*e))/3)):f=1-((o=(1-t)/3)+(a=(1+t*O(c*(e-=2/3))/O(u-c*e))/3)),[255*(f=K(n*f*3)),255*(o=K(n*o*3)),255*(a=K(n*a*3)),r.length>3?r[3]:1]},le=function(){var e,t,n,r,a,o,f;return a=(o=Oe(arguments))[0],t=o[1],e=o[2],c=2*Math.PI,a/=255,t/=255,e/=255,0==(f=1-Math.min(a,t,e)/(r=(a+t+e)/3))?n=0:(n=(a-t+(a-e))/2,n/=Math.sqrt((a-t)*(a-t)+(a-e)*(t-e)),n=Math.acos(n),e>t&&(n=c-n),n/=c),[360*n,f,r]},x.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return Object(a)===a?a:r}(n,Ae.call(arguments).concat(["hsi"]),(function(){}))},p.hsi=G,n.prototype.hsi=function(){return le(this._rgb)},R=function(e,t,n,r){var a,o,f,u,l,c,i,s,d,p;return"hsl"===r?(d=e.hsl(),p=t.hsl()):"hsv"===r?(d=e.hsv(),p=t.hsv()):"hcg"===r?(d=e.hcg(),p=t.hcg()):"hsi"===r?(d=e.hsi(),p=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",d=e.hcl(),p=t.hcl()),"h"===r.substr(0,1)&&(o=d[0],i=d[1],u=d[2],f=p[0],s=p[1],l=p[2]),isNaN(o)||isNaN(f)?isNaN(o)?isNaN(f)?a=Number.NaN:(a=f,1!==u&&0!==u||"hsv"===r||(c=s)):(a=o,1!==l&&0!==l||"hsv"===r||(c=i)):a=o+n*(f>o&&f-o>180?f-(o+360):f<o&&o-f>180?f+360-o:f-o),null==c&&(c=i+n*(s-i)),x[r](a,c,u+n*(l-u))},$=function(e,t,n,r){var a,o;return a=e.num(),o=t.num(),x.num(a+(o-a)*n,"num")},(h=h.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)Q=n[t],r.push([Q,R]);return r}())).push(["num",$]),z=function(e,t,r,a){var o,f;return o=e.lab(),f=t.lab(),new n(o[0]+r*(f[0]-o[0]),o[1]+r*(f[1]-o[1]),o[2]+r*(f[2]-o[2]),a)},h.push(["lab",z])}.call(this)},788:e=>{var t=Math.max;e.exports=function(e,n){if("function"!=typeof e)throw new TypeError("Expected a function");return n=t(void 0===n?e.length-1:+n||0,0),function(){for(var r=arguments,a=-1,o=t(r.length-n,0),f=Array(o);++a<o;)f[a]=r[n+a];switch(n){case 0:return e.call(this,f);case 1:return e.call(this,r[0],f);case 2:return e.call(this,r[0],r[1],f)}var u=Array(n+1);for(a=-1;++a<n;)u[a]=r[a];return u[n]=f,e.apply(this,u)}}},491:e=>{e.exports=function(e,t){return void 0===e?t:e}},473:(e,t,n)=>{var r=n(514);e.exports=function(e,t,n){for(var a=-1,o=r(t),f=o.length;++a<f;){var u=o[a],l=e[u],c=n(l,t[u],u,e,t);((c==c?c!==l:l==l)||void 0===l&&!(u in e))&&(e[u]=c)}return e}},92:(e,t,n)=>{var r=n(560),a=n(514);e.exports=function(e,t){return null==t?e:r(t,a(t),e)}},560:e=>{e.exports=function(e,t,n){n||(n={});for(var r=-1,a=t.length;++r<a;){var o=t[r];n[o]=e[o]}return n}},275:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},716:(e,t,n)=>{var r=n(371);e.exports=function(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,a){return e.call(t,n,r,a)};case 4:return function(n,r,a,o){return e.call(t,n,r,a,o)};case 5:return function(n,r,a,o,f){return e.call(t,n,r,a,o,f)}}return function(){return e.apply(t,arguments)}}},238:(e,t,n)=>{var r=n(716),a=n(293),o=n(788);e.exports=function(e){return o((function(t,n){var o=-1,f=null==t?0:n.length,u=f>2?n[f-2]:void 0,l=f>2?n[2]:void 0,c=f>1?n[f-1]:void 0;for("function"==typeof u?(u=r(u,c,5),f-=2):f-=(u="function"==typeof c?c:void 0)?1:0,l&&a(n[0],n[1],l)&&(u=f<3?void 0:u,f=1);++o<f;){var i=n[o];i&&e(t,i,u)}return t}))}},14:(e,t,n)=>{var r=n(788);e.exports=function(e,t){return r((function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(void 0,n))}))}},726:(e,t,n)=>{var r=n(275)("length");e.exports=r},173:(e,t,n)=>{var r=n(776);e.exports=function(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}},172:(e,t,n)=>{var r=n(726),a=n(516);e.exports=function(e){return null!=e&&a(r(e))}},190:e=>{var t=/^\d+$/;e.exports=function(e,n){return n=null==n?9007199254740991:n,(e="number"==typeof e||t.test(e)?+e:-1)>-1&&e%1==0&&e<n}},293:(e,t,n)=>{var r=n(172),a=n(190),o=n(924);e.exports=function(e,t,n){if(!o(n))return!1;var f=typeof t;if("number"==f?r(n)&&a(t,n.length):"string"==f&&t in n){var u=n[t];return e==e?e===u:u!=u}return!1}},516:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},132:e=>{e.exports=function(e){return!!e&&"object"==typeof e}},337:(e,t,n)=>{var r=n(595),a=n(910),o=n(190),f=n(516),u=n(709),l=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=u(e),n=t.length,c=n&&e.length,i=!!c&&f(c)&&(a(e)||r(e)),s=-1,d=[];++s<n;){var p=t[s];(i&&o(p,c)||l.call(e,p))&&d.push(p)}return d}},595:(e,t,n)=>{var r=n(172),a=n(132),o=Object.prototype,f=o.hasOwnProperty,u=o.propertyIsEnumerable;e.exports=function(e){return a(e)&&r(e)&&f.call(e,"callee")&&!u.call(e,"callee")}},910:(e,t,n)=>{var r=n(173),a=n(516),o=n(132),f=Object.prototype.toString,u=r(Array,"isArray")||function(e){return o(e)&&a(e.length)&&"[object Array]"==f.call(e)};e.exports=u},799:(e,t,n)=>{var r=n(924),a=Object.prototype.toString;e.exports=function(e){return r(e)&&"[object Function]"==a.call(e)}},776:(e,t,n)=>{var r=n(799),a=n(132),o=/^\[object .+?Constructor\]$/,f=Object.prototype,u=Function.prototype.toString,l=f.hasOwnProperty,c=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return null!=e&&(r(e)?c.test(u.call(e)):a(e)&&o.test(e))}},924:e=>{e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},711:(e,t,n)=>{var r=n(473),a=n(92),o=n(238)((function(e,t,n){return n?r(e,t,n):a(e,t)}));e.exports=o},656:(e,t,n)=>{var r=n(711),a=n(491),o=n(14)(r,a);e.exports=o},214:(e,t,n)=>{e.exports=n(711)},514:(e,t,n)=>{var r=n(173),a=n(172),o=n(924),f=n(337),u=r(Object,"keys"),l=u?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&a(e)?f(e):o(e)?u(e):[]}:f;e.exports=l},709:(e,t,n)=>{var r=n(595),a=n(910),o=n(190),f=n(516),u=n(924),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&f(t)&&(a(e)||r(e))&&t||0;for(var n=e.constructor,c=-1,i="function"==typeof n&&n.prototype===e,s=Array(t),d=t>0;++c<t;)s[c]=c+"";for(var p in e)d&&o(p,t)||"constructor"==p&&(i||!l.call(e,p))||s.push(p);return s}},371:e=>{e.exports=function(e){return e}},158:(e,t,n)=>{var r=n(525),a=n(487),o={defaults:n(656),extend:n(214)};function f(e,t){return"function"==typeof t?t(e):e.properties[t]}function u(e){return function(t){var n={},r=f(t,e._options.valueProperty);if(!isNaN(r))for(var a=1;a<e._limits.length;a++)if(r<(a===e._limits.length-1?e._limits[a]+1:e._limits[a])){n.fillColor=e._colors[a-1];break}switch(typeof e._userStyle){case"function":return o.extend(e._userStyle(),n);case"object":return o.extend(e._userStyle,n);default:return n}}}r.GeoJSONChoropleth=r.GeoJSON.extend({initialize:function(e,t,n){var f=this;t=t||{},o.defaults(t,{valueProperty:"value",scale:["white","red"],steps:5,mode:"q",channelMode:"rgb",padding:!1,correctLightness:!1,bezierInterpolate:!1}),f._options=t,f._userStyle=t.style;var l=t.colors;if(l||(t.bezierInterpolate?l=a.bezier(t.scale).scale():(l=a.scale(t.scale),l="rgb"!==t.channelMode?l.mode(t.channelMode):l,l=t.correctLightness?l.correctLightness():l),l=t.padding?l.padding(t.padding).colors(t.steps):l.colors(t.steps)),f._colors=l,f._limits=null,!$.isEmptyObject(n)){var c={},i=null,s=null,d=null;n.formatOptions&&(c=n.formatOptions,delete n.formatOptions),n.title&&(i=n.title,delete n.title),n.highlightStyle&&(s=n.highlightStyle,delete n.highlightStyle),n.resetStyle&&(d=n.resetStyle,delete n.resetStyle),o.defaults(c,{locale:"en-US",options:{style:"decimal",maximumFractionDigits:2}}),f._legend=r.control(n),f._legend.formatOptions=c,f._legend.title=i,f._legend.highlightStyle=s,f._legend.resetStyle=d}r.GeoJSON.prototype.initialize.call(f,null,o.extend(f._options,{style:u(this)})),e&&f.setGeoJSON(e)},onAdd:function(e){var t=this;r.LayerGroup.prototype.onAdd.call(t,e),t._legend&&(t._legend.onAdd?t._legend.addTo(e):t._legend._map=e)},onRemove:function(e){var t=this;t._legend&&t._legend.removeFrom(e),r.LayerGroup.prototype.onRemove.call(t,e)},setGeoJSON:function(e){var t=this,n=(r.Util.isArray(e)?e:e.features).map((function(e){return f(e,t._options.valueProperty)}));if(t._limits=a.limits(n,t._options.mode,t._options.steps),r.GeoJSON.prototype.addData.call(t,e),t._legend){var o=t._legend.title,u=t._legend.formatOptions.locale,l=t._legend.formatOptions.options,c=t._legend.highlightStyle,i=t._legend.resetStyle;t._legend.onAdd=function(e){var n=r.DomUtil.create("div","info legend");if(o){var a=document.createElement("div");a.style={},a.style["font-weight"]="bold",a.appendChild(document.createTextNode(o)),n.appendChild(a)}for(var s=0;s<t._limits.length-1;s++){var d,p,h,b,g;d=t._limits[s],p=s===t._limits.length-2?t._limits[s+1]+1:t._limits[s+1],(h=document.createElement("span")).classList.add("legendItem"),h.id=r.stamp(h),h.dataset.from=d,h.dataset.to=p,(b=document.createElement("i")).style.background=t._colors[s],b.style.border="solid 0.5px #666",textSpan=document.createElement("span"),g=document.createTextNode(d.toLocaleString(u,l)+" - "+p.toLocaleString(u,l)),textSpan.appendChild(g),h.appendChild(b),h.appendChild(textSpan),n.appendChild(h),n.appendChild(document.createElement("br")),$.isEmptyObject(c)||(t.eachLayer((function(e){var n=f(e.feature,t._options.valueProperty);n>=d&&n<p&&(e._legendItemId=h.id,e._highlightLegendItem||(e._highlightLegendItem=!0,e.on({mouseover:function(e){document.getElementById(e.target._legendItemId).style["font-weight"]="bold"},mouseout:function(e){document.getElementById(e.target._legendItemId).style["font-weight"]="normal"}})))})),h.addEventListener("mouseover",(function(e){var n=e.currentTarget;n.dataset.from,n.dataset.to,n.style["font-weight"]="bold",t.eachLayer((function(e){f(e.feature,t._options.valueProperty),n.id===e._legendItemId&&(e.setStyle(c),c.bringToFront&&e.bringToFront())}))})),h.addEventListener("mouseout",(function(e){var n=e.currentTarget;n.dataset.from,n.dataset.to,n.style["font-weight"]="normal",t.eachLayer((function(e){f(e.feature,t._options.valueProperty),n.id===e._legendItemId&&($.isEmptyObject(i)?t.resetStyle(e):e.setStyle(i),c.sendToBack&&e.bringToBack())}))})))}return n},t._legend._map&&t._legend.addTo(t._legend._map)}}}),r.choropleth=e.exports=function(e,t,n){return new r.GeoJSONChoropleth(e,t,n)}},525:e=>{"use strict";e.exports=L}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(158)})();
//# sourceMappingURL=lfx-choropleth-prod.js.map