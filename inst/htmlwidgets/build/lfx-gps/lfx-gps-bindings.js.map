{"version":3,"file":"lfx-gps-bindings.js","mappings":"AAEAA,cAAcC,QAAQC,cAAgB,SAASC,IAC7C,WACE,IAAIC,EAAMC,KACPD,EAAIE,aACLF,EAAIE,WAAWC,OAAOH,UACfA,EAAIE,YAEbF,EAAIE,WAAa,IAAIE,EAAEC,QAAQC,IAAIP,GAEnCC,EAAIE,WAAWK,GAAG,eAAe,SAASC,GAEnCC,YAAYC,WACjBC,MAAMC,cAAcZ,EAAIa,GAAG,eAAe,CACxC,YAAgBL,EAAEM,OAClB,OAAUN,EAAEO,OAAOC,SAEvB,IACAhB,EAAIE,WAAWK,GAAG,gBAAgB,SAASC,GAEpCC,YAAYC,WACjBC,MAAMC,cAAcZ,EAAIa,GAAG,gBAAgB,CAAC,EAC9C,IACAb,EAAIE,WAAWe,MAAMjB,EACtB,GAAEkB,KAAKjB,KACV,EAEAL,cAAcC,QAAQsB,iBAAmB,YACvC,WACE,IAAInB,EAAMC,KACPD,EAAIE,aACLF,EAAIE,WAAWC,OAAOH,UACfA,EAAIE,WAEd,GAAEgB,KAAKjB,KACV,EAEAL,cAAcC,QAAQuB,YAAc,YAClC,WACYnB,KACHC,YADGD,KAEJC,WAAWmB,UAElB,GAAEH,KAAKjB,KACV,EAEAL,cAAcC,QAAQyB,cAAgB,YACpC,WACYrB,KACHC,YADGD,KAEJC,WAAWqB,YAElB,GAAEL,KAAKjB,KACV,EAEAL,cAAcC,QAAQ2B,YAAc,WAClC,OAAO,WAEL,GADUvB,KACHC,WACL,OAFQD,KAEGC,WAAWsB,cAEtB,KAAM,kCAET,EAAEN,KAAKjB,KACV","sources":["webpack://leaflet.extras/./inst/htmlwidgets/bindings/lfx-gps-bindings.js"],"sourcesContent":["/* global LeafletWidget, L, HTMLWidgets, Shiny */\r\n\r\nLeafletWidget.methods.addControlGPS = function(options) {\r\n  (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      map.gpscontrol.remove(map);\r\n      delete map.gpscontrol;\r\n    }\r\n    map.gpscontrol = new L.Control.Gps(options);\r\n\r\n    map.gpscontrol.on('gps:located', function(e){\r\n      // Shiny stuff\r\n      if (!HTMLWidgets.shinyMode) return;\r\n      Shiny.onInputChange(map.id+'_gps_located',{\r\n        'coordinates' : e.latlng,\r\n        'radius': e.marker._radius\r\n      });\r\n    });\r\n    map.gpscontrol.on('gps:disabled', function(e){\r\n      // Shiny stuff\r\n      if (!HTMLWidgets.shinyMode) return;\r\n      Shiny.onInputChange(map.id+'_gps_disabled',{});\r\n    });\r\n    map.gpscontrol.addTo(map);\r\n  }).call(this);\r\n};\r\n\r\nLeafletWidget.methods.removeControlGPS = function() {\r\n  (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      map.gpscontrol.remove(map);\r\n      delete map.gpscontrol;\r\n    }\r\n  }).call(this);\r\n};\r\n\r\nLeafletWidget.methods.activateGPS = function() {\r\n  (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      map.gpscontrol.activate();\r\n    }\r\n  }).call(this);\r\n};\r\n\r\nLeafletWidget.methods.deactivateGPS = function() {\r\n  (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      map.gpscontrol.deactivate();\r\n    }\r\n  }).call(this);\r\n};\r\n\r\nLeafletWidget.methods.getLocation = function() {\r\n  return (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      return map.gpscontrol.getLocation();\r\n    } else {\r\n      throw 'GPS Control not added to the map';\r\n    }\r\n  }).call(this);\r\n};\r\n"],"names":["LeafletWidget","methods","addControlGPS","options","map","this","gpscontrol","remove","L","Control","Gps","on","e","HTMLWidgets","shinyMode","Shiny","onInputChange","id","latlng","marker","_radius","addTo","call","removeControlGPS","activateGPS","activate","deactivateGPS","deactivate","getLocation"],"sourceRoot":""}