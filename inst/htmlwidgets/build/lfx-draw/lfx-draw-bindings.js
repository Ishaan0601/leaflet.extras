LeafletWidget.methods.addDrawToolbar=function(e,a,t){(function(){var r,o=this;if(o.drawToolbar&&(o.drawToolbar.removeFrom(o),delete o.drawToobar),e){if(!(r=o.layerManager.getLayer("geojson",e)))throw"GeoJSON layer with ID "+e+" not Found";o._editableGeoJSONLayerId=e}else a||(a="editableFeatureGroup"),r=o.layerManager.getLayerGroup(a,!0),o._editableFeatureGroupName=a;if(t&&t.draw&&t.draw.marker&&t.draw.marker.markerIcon&&t.draw.marker.markerIconFunction&&(t.draw.marker.icon=t.draw.marker.markerIconFunction(t.draw.marker.markerIcon)),!$.isEmptyObject(t.edit)){var n={};t.edit.remove||(n.remove=!1),t.edit.edit?$.isEmptyObject(t.edit.selectedPathOptions)||(n.edit={},n.edit.selectedPathOptions=t.edit.selectedPathOptions):n.edit=!1,$.isEmptyObject(t.edit.poly)||(n.poly=t.edit.poly),n.featureGroup=r,t.edit=n}o.drawToolbar=new L.Control.Draw(t),o.drawToolbar.addTo(o),o.on(L.Draw.Event.DRAWSTART,(function(e){HTMLWidgets.shinyMode&&Shiny.onInputChange(o.id+"_draw_start",{feature_type:e.layerType})})),o.on(L.Draw.Event.DRAWSTOP,(function(e){HTMLWidgets.shinyMode&&Shiny.onInputChange(o.id+"_draw_stop",{feature_type:e.layerType})})),o.on(L.Draw.Event.CREATED,(function(e){t.draw.singleFeature&&r.getLayers().length>0&&r.clearLayers();var a=e.layer;r.addLayer(a);var n=L.stamp(a);a.feature={type:"Feature",properties:{_leaflet_id:n,feature_type:e.layerType}},"function"==typeof a.getRadius&&(a.feature.properties.radius=a.getRadius()),HTMLWidgets.shinyMode&&(Shiny.onInputChange(o.id+"_draw_new_feature",a.toGeoJSON()),Shiny.onInputChange(o.id+"_draw_all_features",r.toGeoJSON()))})),o.on(L.Draw.Event.EDITSTART,(function(e){HTMLWidgets.shinyMode&&Shiny.onInputChange(o.id+"_draw_editstart",!0)})),o.on(L.Draw.Event.EDITSTOP,(function(e){HTMLWidgets.shinyMode&&Shiny.onInputChange(o.id+"_draw_editstop",!0)})),o.on(L.Draw.Event.EDITED,(function(e){var a=e.layers;a.eachLayer((function(e){var a=L.stamp(e);e.feature||(e.feature={type:"Feature"}),e.feature.properties||(e.feature.properties={}),e.feature.properties._leaflet_id=a,e.feature.properties.layerId=e.options.layerId,"function"==typeof e.getRadius&&(e.feature.properties.radius=e.getRadius())})),HTMLWidgets.shinyMode&&(Shiny.onInputChange(o.id+"_draw_edited_features",a.toGeoJSON()),Shiny.onInputChange(o.id+"_draw_all_features",r.toGeoJSON()))})),o.on(L.Draw.Event.DELETESTART,(function(e){HTMLWidgets.shinyMode&&Shiny.onInputChange(o.id+"_draw_deletestart",!0)})),o.on(L.Draw.Event.DELETESTOP,(function(e){HTMLWidgets.shinyMode&&Shiny.onInputChange(o.id+"_draw_deletestop",!0)})),o.on(L.Draw.Event.DELETED,(function(e){var a=e.layers;a.eachLayer((function(e){var a=L.stamp(e);e.feature||(e.feature={type:"Feature"}),e.feature.properties||(e.feature.properties={}),e.feature.properties._leaflet_id=a,e.feature.properties.layerId=e.options.layerId,"function"==typeof e.getRadius&&(e.feature.properties.radius=e.getRadius())})),HTMLWidgets.shinyMode&&(Shiny.onInputChange(o.id+"_draw_deleted_features",a.toGeoJSON()),Shiny.onInputChange(o.id+"_draw_all_features",r.toGeoJSON()))}))}).call(this)},LeafletWidget.methods.removeDrawToolbar=function(e){(function(){var a=this;a.drawToolbar&&(a.drawToolbar.removeFrom(a),delete a.drawToolbar),a._editableFeatureGroupName&&e&&a.layerManager.getLayerGroup(a._editableFeatureGroupName,!1).clearLayers(),a._editableFeatureGroupName=null,a._editableGeoJSONLayerId&&e&&a.layerManager.removeLayer("geojson",a._editableGeoJSONLayerId),a._editableGeoJSONLayerId=null}).call(this)},LeafletWidget.methods.getDrawnItems=function(){var e,a=this;return a._editableGeoJSONLayerId?e=a.layerManager.getLayer("geojson",a._editableGeoJSONLayerId):a._editableFeatureGroupName&&(e=a.layerManager.getLayerGroup(a._editableFeatureGroupName,!1)),e?e.toGeoJSON():null};
//# sourceMappingURL=lfx-draw-bindings.js.map